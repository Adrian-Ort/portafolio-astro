---
export async function getStaticPaths() {
  return [
    { params: { slug: 'creando-portafolio-con-astro' } },
  ];
}

import Layout from '../../layouts/Layout.astro';

const { slug } = Astro.params;

// Datos de ejemplo de posts
const posts: Record<string, any> = {
  'creando-portafolio-con-astro': {
    title: 'Creando mi Portafolio Web con Astro',
    date: '2025-10-12',
    image: '/images/blog/portafolio-astro.webp',
    content: `
      <p>Este proyecto representa la aplicación de los conocimientos adquiridos a lo largo de mi formación y experiencia 
      como desarrollador web, combinando lo aprendido en mi <strong>Diplomado en Desarrollo Web en la UVM</strong>, 
      el <strong>Bootcamp Full Stack Java en Generation México</strong> y diversos <strong>cursos independientes</strong>.</p>

      <p>Decidí construir mi portafolio con <strong>Astro</strong>, aplicando <strong>HTML, CSS y JavaScript</strong> 
      para crear un sitio moderno, responsive y optimizado. Además, utilicé <strong>Vercel</strong> para su despliegue, 
      logrando un resultado profesional y de alto rendimiento.</p>

      <p>Este proyecto me permitió integrar todo lo aprendido, afianzar mis habilidades técnicas y seguir creciendo 
      como desarrollador web.</p>
    `
  },
  
};

const post = posts[slug as string];

// Si el post no existe, retornar 404
if (!post) {
  return Astro.redirect('/404');
}

function formatDate(dateStr: string) {
  return new Date(dateStr).toLocaleDateString('es-MX', { 
    year: 'numeric', 
    month: 'long', 
    day: 'numeric' 
  });
}
---

<Layout title={post.title}>
  <article class="blog-post">
    <div class="container">
      <div class="post-header">
        <h1>{post.title}</h1>
        <time datetime={post.date}>
          {formatDate(post.date)}
        </time>
      </div>
      
      <img src={post.image} alt={post.title} class="post-image" />
      
      <div class="post-content" set:html={post.content} />
      
      <div class="post-footer">
        <a href="/blog" class="btn btn-secondary">← Volver</a>
      </div>
    </div>
  </article>
</Layout>

<style>
  .blog-post {
    padding: 4rem 0;
  }
  
  .blog-post .container {
    max-width: 800px;
  }
  
  .post-header {
    text-align: center;
    margin-bottom: 2rem;
  }
  
  .post-header h1 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }
  
  .post-header time {
    color: var(--text-secondary);
    font-size: 1rem;
  }
  
  .post-image {
    width: 100%;
    height: 400px;
    object-fit: cover;
    border-radius: 0.75rem;
    margin-bottom: 2rem;
  }
  
  .post-content {
    line-height: 1.8;
    color: var(--text-primary);
  }
  
  .post-content h2 {
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-size: 1.75rem;
  }
  
  .post-content p {
    margin-bottom: 1.5rem;
  }
  
  .post-content ul, .post-content ol {
    margin-bottom: 1.5rem;
    padding-left: 2rem;
  }
  
  .post-content li {
    margin-bottom: 0.5rem;
  }
  
  .post-footer {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid var(--border);
  }
  
  @media (max-width: 768px) {
    .post-header h1 {
      font-size: 2rem;
    }
    
    .post-image {
      height: 250px;
    }
  }
</style>